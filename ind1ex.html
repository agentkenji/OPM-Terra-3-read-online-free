<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Comic Reader Pro</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#0b0b12;font-family:system-ui;color:#fff;overflow:hidden}

/* Header */
.header{
 position:fixed;top:0;width:100%;
 display:flex;justify-content:space-between;align-items:center;
 padding:12px 16px;
 backdrop-filter:blur(12px);
 background:rgba(0,0,0,.45);
 z-index:50;transition:.3s
}
.title{font-size:14px;font-weight:600;letter-spacing:1px}
.info{font-size:12px;opacity:.8}

/* Viewer */
.viewer{
 height:100vh;display:flex;justify-content:center;align-items:center;
 padding-top:55px;overflow:hidden
}
.viewer img{
 max-width:96%;max-height:92vh;border-radius:12px;
 box-shadow:0 0 60px rgba(0,0,0,.9);
 transition:transform .2s ease;
}

/* Webtoon mode */
.webtoon{
 overflow-y:auto;height:100vh;padding-top:55px
}
.webtoon img{
 width:100%;margin-bottom:12px;border-radius:8px
}

/* Tap zones */
.tap{position:fixed;top:0;height:100%;width:33%;z-index:30}
.left{left:0}.center{left:33%}.right{right:0}

/* Controls */
.controls{
 position:fixed;bottom:16px;left:50%;transform:translateX(-50%);
 display:flex;gap:10px;align-items:center;
 background:rgba(0,0,0,.6);backdrop-filter:blur(14px);
 padding:10px 14px;border-radius:40px;z-index:50;transition:.3s
}
.btn{
 height:44px;width:44px;border-radius:50%;
 display:flex;justify-content:center;align-items:center;
 border:1px solid rgba(255,255,255,.25);
 background:rgba(255,255,255,.08);
 font-size:18px;cursor:pointer
}
.btn:active{transform:scale(.9);background:rgba(255,255,255,.3)}
#slider{width:120px}

/* Hide UI */
.hide .header,.hide .controls{opacity:0;pointer-events:none}
</style>
</head>

<body>

<div class="header">
 <div class="title">Comic Reader</div>
 <div class="info" id="info"></div>
</div>

<div id="container" class="viewer">
 <img id="page">
</div>

<div class="tap left"></div>
<div class="tap center"></div>
<div class="tap right"></div>

<div class="controls">
 <div class="btn" id="prev">⟨</div>
 <input type="range" id="slider" min="1" value="1">
 <div class="btn" id="next">⟩</div>
 <div class="btn" id="mode">⇵</div>
</div>

<script>
let current=1, total=0, zoom=1, webtoon=false;
const img=document.getElementById("page");
const info=document.getElementById("info");
const slider=document.getElementById("slider");
const container=document.getElementById("container");

/* AUTO DETECT PAGES */
async function detectPages(){
 for(let i=1;i<500;i++){
   let num=String(i).padStart(3,'0');
   try{
     let res=await fetch(`pages/${num}.jpg`);
     if(!res.ok) break;
     total++;
   }catch{break;}
 }
 slider.max=total;
 load();
}
detectPages();

/* LOAD PAGE */
function load(){
 if(webtoon) return;
 let num=String(current).padStart(3,'0');
 img.src=`pages/${num}.jpg`;
 info.textContent=`Page ${current} / ${total}`;
 slider.value=current;
 img.style.transform=`scale(${zoom})`;
}

/* NAVIGATION */
function next(){if(current<total){current++;load();}}
function prev(){if(current>1){current--;load();}}

document.getElementById("next").onclick=next;
document.getElementById("prev").onclick=prev;

slider.oninput=e=>{current=e.target.value;load();}

/* TAP ZONES */
document.querySelector(".left").onclick=prev;
document.querySelector(".right").onclick=next;
document.querySelector(".center").onclick=()=>document.body.classList.toggle("hide");

/* KEYBOARD */
document.onkeydown=e=>{
 if(e.key==="ArrowRight")next();
 if(e.key==="ArrowLeft")prev();
}

/* SWIPE */
let startX=0;
document.addEventListener("touchstart",e=>startX=e.changedTouches[0].screenX);
document.addEventListener("touchend",e=>{
 let d=e.changedTouches[0].screenX-startX;
 if(d>60)prev();
 if(d<-60)next();
});

/* ZOOM */
img.onwheel=e=>{
 e.preventDefault();
 zoom+=e.deltaY*-0.001;
 zoom=Math.min(Math.max(.7,zoom),3);
 img.style.transform=`scale(${zoom})`;
};

/* WEBTOON MODE */
document.getElementById("mode").onclick=()=>{
 webtoon=!webtoon;
 if(webtoon){
   container.className="webtoon";
   container.innerHTML="";
   for(let i=1;i<=total;i++){
     let n=String(i).padStart(3,'0');
     let im=document.createElement("img");
     im.src=`pages/${n}.jpg`;
     container.appendChild(im);
   }
   info.textContent="Webtoon Scroll Mode";
 }else{
   container.className="viewer";
   container.innerHTML="";
   container.appendChild(img);
   load();
 }
};
</script>

</body>
</html>
